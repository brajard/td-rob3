\documentclass[french,12pt,a4paper,twoside,openright,titlepage]{report}
\usepackage{algorithm}
\usepackage{algorithmic}
\usepackage[latin1]{inputenc}
\usepackage{fancyhdr}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage[french]{babel}
\usepackage{amsfonts}
\usepackage{graphicx}
%\usepackage{here}
\usepackage{ifthen}
\usepackage{xcomment}
\usepackage{array}
\usepackage{rotating}

\usepackage{listings}


\textwidth17cm
\textheight25cm
%\oddsidemargin-1cm
%\parskip0.2pt
\voffset-2cm
\hoffset-1cm
\headsep0.5cm
\topmargin0.5cm
\oddsidemargin0.5cm
\evensidemargin0.5cm

\makeatletter
\@addtoreset{section}{part}
\makeatother
\newlength{\mylength}
\newcounter{exo}\stepcounter{exo}
\newcommand\exercice[1]{
\subsubsection*{Exercice \theexo\stepcounter{exo} {#1}}
%{\bf Exercice \theexo\stepcounter{exo}\\}
}


\RequirePackage{layout,color}

\definecolor{gray50}{gray}{.5}
\definecolor{gray40}{gray}{.6}
\definecolor{gray30}{gray}{.7}
\definecolor{gray20}{gray}{.8}
\definecolor{gray10}{gray}{.9}
\definecolor{gray05}{gray}{.95}

\newsavebox{\laboiboite}
\newlength{\longdelaboiboite}
\newlength{\deptdelaboiboite}
\newlength{\hautdelaboiboite}
\newcolumntype{R}{>{\begin{lrbox}{\laboiboite} 
$\displaystyle }r<{$\end{lrbox}%
    \settowidth{\longdelaboiboite}{\usebox{\laboiboite}}%
    \settoheight{\hautdelaboiboite}{\usebox{\laboiboite}}%
    \settodepth{\deptdelaboiboite}{\usebox{\laboiboite}}%
    \addtolength{\hautdelaboiboite}{\deptdelaboiboite}%
    \addtolength{\hautdelaboiboite}{2ex}%
    \parbox[c][\hautdelaboiboite][c]{0cm}{} \makebox[\width]
{\usebox{\laboiboite}}}}
\newcolumntype{C}{>{\begin{lrbox}{\laboiboite} 
$\displaystyle }c<{$\end{lrbox}%
    \settowidth{\longdelaboiboite}{\usebox{\laboiboite}}%
    \settoheight{\hautdelaboiboite}{\usebox{\laboiboite}}%
    \settodepth{\deptdelaboiboite}{\usebox{\laboiboite}}%
    \addtolength{\hautdelaboiboite}{\deptdelaboiboite}%
    \addtolength{\hautdelaboiboite}{2ex}%
    \parbox[c][\hautdelaboiboite][c]{0cm}{} \makebox[\width]
{\usebox{\laboiboite}}}}
\newcolumntype{L}{>{\begin{lrbox}{\laboiboite} 
$\displaystyle }l<{$\end{lrbox}%
    \settowidth{\longdelaboiboite}{\usebox{\laboiboite}}%
    \settoheight{\hautdelaboiboite}{\usebox{\laboiboite}}%
    \settodepth{\deptdelaboiboite}{\usebox{\laboiboite}}%
    \addtolength{\hautdelaboiboite}{\deptdelaboiboite}%
    \addtolength{\hautdelaboiboite}{2ex}%
    \parbox[c][\hautdelaboiboite][c]{0cm}{} \makebox[\width]
{\usebox{\laboiboite}}}}

\newcolumntype{S}{>{\begin{lrbox}{\laboiboite}}r<{\end{lrbox}%
    \mbox{\usebox{\laboiboite}}}}
\newcolumntype{D}{>{\begin{lrbox}{\laboiboite}}c<{\end{lrbox}%
    \mbox{\usebox{\laboiboite}}}}
\newcolumntype{M}{>{\begin{lrbox}{\laboiboite}}l<{\end{lrbox}%
    \mbox{\usebox{\laboiboite}}}}
\newlength\Linewidth
\def\findlength{\setlength\Linewidth\linewidth
\addtolength\Linewidth{-4\fboxrule}
\addtolength\Linewidth{-3\fboxsep}
}
\newenvironment{examplebox}{\par\begingroup%
   \setlength{\fboxsep}{5pt}\findlength%
   \setbox0=\vbox\bgroup\noindent%
   \hsize=\Linewidth%
   \begin{minipage}{\Linewidth}\small}%
    {\end{minipage}\egroup%
    \vspace{6pt}%
    \noindent\textcolor{gray20}{\fboxsep2.5pt\fbox%
     {\fboxsep5pt\colorbox{gray05}{\normalcolor\box0}}}%
    \endgroup\par\addvspace{6pt minus 3pt}\noindent%
    \normalcolor\ignorespacesafterend}
\let\Examplebox\examplebox
\let\endExamplebox\endexamplebox


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newboolean{sol}
%\setboolean{sol}{true}
\setboolean{sol}{false}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%M
\ifthenelse{\boolean{sol}}
{
\newenvironment{solution}
{
\begin{examplebox}
\begin{center}
\begin{tabular}{m{0.5cm}|m{15cm}|}\cline{2-2}
%\begin{turn}{90}{Solution}\end{turn}&
\rotatebox{90}{Solution}&
\begin{minipage}[H]{\linewidth}
\vspace{0.2cm}
}
{
\vspace{0.2cm}
\end{minipage}
\\\cline{2-2}
\end{tabular}
\end{center}
\end{examplebox}
}
}
{
\newxcomment[]{solution}
}


\begin{document}

\lhead[ROB 3 ]{ROB 3 }
\chead[]{}
\rhead[Informatique G\'en\'erale ]{Informatique G\'en\'erale}
 
\ifthenelse{\boolean{sol}}
{
\lfoot[Polytech'Paris-UPMC 2016-2017 (version enseignants)]{Polytech'Paris-UPMC 2016-2017 (version enseignants)}

}
{
\lfoot[Polytech'Paris-UPMC 2016-2017 (version \'etudiants)]{Polytech'Paris-UPMC 2016-2017 (version \'etudiants)}
}

\cfoot[]{}
\rfoot[\thepage]{\thepage}




\pagestyle{fancyplain}
%%%%%%%%%%%%

 %\addcontentsline{toc}{chapter}{S\'erie 1 : Conception d'algorithmes}
 %\chapter{Conception d'algorithmes}
 %\addcontentsline{toc}{chapter}{S\'erie 1 : Conception d'algorithmes}

\chapter*{Travaux Dirigés n°2}

\exercice{- Minimum}
Ecrire l'algorithme qui renvoie l'indice du plus petit élement
d'un tableau d'entiers.
%\begin{solution}
%\lstset{language=C} 
%\begin{lstlisting}
%#include <stdio.h>
%#include <stdlib.h>
%
%int main(void)
%{
%	int i;				
%	int min_index;	
%	int A[7] = {12,6,4,8,3,9,10};
%
%	min_index=0;
%	for( i=0; i<7; i++)
%	{
%		if(A[min_index] > A[i])
%			min_index = i;		
%	}
%	printf("Index of the minimal element: %d", min_index);
%
%	return EXIT_SUCCESS;
%}
%\end{lstlisting}
%\end{solution}

\exercice{- Nombre d'occurences}
Ecrire un algorithme qui prend en entrée un tableau d'entiers, et un entier
$n$ et qui renvoie le nombre de fois où l'entier $n$ apparaît dans le tableau.
%\begin{solution}
%
%\end{solution}

\exercice{- Moyenne et écart-type}
Ecrire un algorithme qui calcule la moyenne et l'écart-type des éléments d'un tableau de réels.
Les formules pour la moyenne $m$ et l'écart-type $\sigma$ d'un tableau $t$ de taille $n$ sont :
\begin{align*}
m=\frac{1}{n}\sum_{i=0}^{n-1}t[i] && \sigma=\sqrt{\frac{1}{n-1}\sum_{i=0}^{n-1}(t[i]-m)^2}
\end{align*}
%\begin{solution}
%
%\end{solution}

\exercice{- Palindrome}
Ecrire l'algorithme qui prend un tableau d'entiers de taille N en entrée, et vérifie que
ce tableau est un palindrome, c'est à dire qu'il se lit de la même façon dans un sens ou dans l'autre.
Exemple : les tableaux \verb|{1,7,2,7,1}| ou \verb|{3,4,4,3}| sont des palindromes.
%\begin{solution}
%
%\end{solution}

\exercice{- Remplacement des doublons}
Soit un tableau \verb|T| contenant des entiers strictement positifs.
Ecrire l'algorithme qui remplace tous les doublons par des 0.
Exemple : le tableau \verb|{1,3,3,1,2,5,1}| deviendra \verb|{1,3,0,0,2,5,0}|.
%\begin{solution}
%
%\end{solution}

\exercice{- Multiplication des matrices}
On considère deux matrices $A$ et $B$ de taille $n \times n$ telles que
$$\forall 1\leq i,j \leq n, \quad A_{i,j} = i+3j, \quad B_{i,j} = \left\{\begin{array}{ll}
	1 & \mathrm{si\ }i=j \\
	i*j & \mathrm{sinon}
\end{array}\right.$$
\begin{enumerate}
	\item Écrire un programme créant les matrices $A$ et $B$ ($n$ sera définie en constante, avec $n=5$ pour commencer)
	\item Compléter le programme pour qu'il affiche la matrice $B$
	\item Compléter le programme pour qu'il calcule et affiche le produit $C=A \times B$.\\
%	 Pour rappel, $C$ est une matrice de taille $n \times n$ que l'on calcule par
%	$$C_{i,j} = \sum_{k=1}^{n} A_{i,k} B_{k,j}$$
\end{enumerate}
Remarque: les indices \texttt{C} commencent à $0$, tandis que les indices des matrices commencent à $1$.

\begin{solution}
\scriptsize
	\lstinputlisting[firstline=15, language=C]{td2_exo6.c}

\end{solution}


\exercice{ - Crible d'\'Eratosth\`ene}
L'algorithme procède par élimination : il s'agit de supprimer d'une table des entiers de 2 à N tous les multiples d'un entier. En supprimant tous les multiples, à la fin il ne restera que les entiers qui ne sont multiples d'aucun entier, et qui sont donc les nombres premiers. 

Note : Dans une structure de tableau, on ne peut pas supprimer d'élément. On pourra ici remplacer tous les éléments non premier par -1. A la fin du programme, on pourra n'afficher que les élements positifs du tableau.
\begin{solution}
\scriptsize
\lstinputlisting[firstline=19, language=C]{td2_eratosthene.c}
\end{solution}

%\exercice {- Tri par sélection} 
%\'Ecrire l'algorithme de tri par sélection qui se base sur le principe suivant. 
%On sélectionne tout d'abord l'élément le plus petit du tableau, c.à d. on trouve l'entier 
%$p$ tel que $\forall 1 \leq i \leq n, t[i] \geq t[p]$. Une fois cet emplacement trouvé, on échange les élements 
%$t[1]$ et $t[p]$. Puis on recommence ces opérations pour le reste du tableau (c.à d. les éléments 
%compris entre les indices $2$ et $n$. On recherche alors le plus petit élément de cette nouvelle suite 
%de nombre et on échange avec $t[2]$. Et ainsi de suite \ldots jusqu'au moment où on a placé tous les 
%élements du tableau.
% 
%
%\begin{solution}
%%\begin{algorithm}[h!]
%%\caption{Calculatrice simple}
%%\label{algo_cm}
%\begin{algorithmic}[1]
%\REQUIRE{$T$ : Tableau d'entiers \`a trier ; $n$ : taille du tableau}
%\ENSURE{$T$ : Tableau tri \'e}
%\\
%{\bf Donn\'ees locales : } $i$,$j$,$imin$,$temp$ entiers.
%\\
%\FOR{$i$ allant de $2$ \`a $n-1$}
%\STATE $imin \leftarrow i$
%\FOR {$j$ allant de $i+1$ \`a $n$}
%\IF{$T[imin]>T[j]$}
%  \STATE $imin \leftarrow j$
%\ENDIF
%\STATE $temp \leftarrow T[i]$
%\STATE $T[i] \leftarrow T[imin]$
%\STATE $T[imin] \leftarrow temp$
%\ENDFOR
%\ENDFOR
% \end{algorithmic}
%%\end{algorithm}
%\end{solution}





%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\end{document}
