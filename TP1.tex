\documentclass[french,12pt,a4paper,twoside,openright,titlepage]{report}
\usepackage{algorithm}
\usepackage{algorithmic}
\usepackage[latin1]{inputenc}
\usepackage{fancyhdr}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{babel}
\usepackage{amsfonts}
\usepackage{graphicx}
\usepackage{here}
\usepackage{ifthen}
\usepackage{xcomment}
\usepackage{array}
\usepackage{rotating}
\usepackage{hyperref}
\usepackage{listings}
\usepackage{color}

\textwidth17cm
\textheight25cm
%\oddsidemargin-1cm
%\parskip0.2pt
\voffset-2cm
\hoffset-1cm
\headsep0.5cm
\topmargin2.5cm
\oddsidemargin0.5cm
\evensidemargin0.5cm

\makeatletter
\@addtoreset{section}{part}
\makeatother
\newlength{\mylength}
\newcounter{exo}\stepcounter{exo}
\newcommand\exercice[1]{
\subsubsection*{Exercice \theexo\stepcounter{exo} {#1}}
%{\bf Exercice \theexo\stepcounter{exo}\\}
}



\RequirePackage{layout,color}

\definecolor{gray50}{gray}{.5}
\definecolor{gray40}{gray}{.6}
\definecolor{gray30}{gray}{.7}
\definecolor{gray20}{gray}{.8}
\definecolor{gray10}{gray}{.9}
\definecolor{gray05}{gray}{.95}

\newsavebox{\laboiboite}
\newlength{\longdelaboiboite}
\newlength{\deptdelaboiboite}
\newlength{\hautdelaboiboite}
\newcolumntype{R}{>{\begin{lrbox}{\laboiboite} 
$\displaystyle }r<{$\end{lrbox}%
    \settowidth{\longdelaboiboite}{\usebox{\laboiboite}}%
    \settoheight{\hautdelaboiboite}{\usebox{\laboiboite}}%
    \settodepth{\deptdelaboiboite}{\usebox{\laboiboite}}%
    \addtolength{\hautdelaboiboite}{\deptdelaboiboite}%
    \addtolength{\hautdelaboiboite}{2ex}%
    \parbox[c][\hautdelaboiboite][c]{0cm}{} \makebox[\width]
{\usebox{\laboiboite}}}}
\newcolumntype{C}{>{\begin{lrbox}{\laboiboite} 
$\displaystyle }c<{$\end{lrbox}%
    \settowidth{\longdelaboiboite}{\usebox{\laboiboite}}%
    \settoheight{\hautdelaboiboite}{\usebox{\laboiboite}}%
    \settodepth{\deptdelaboiboite}{\usebox{\laboiboite}}%
    \addtolength{\hautdelaboiboite}{\deptdelaboiboite}%
    \addtolength{\hautdelaboiboite}{2ex}%
    \parbox[c][\hautdelaboiboite][c]{0cm}{} \makebox[\width]
{\usebox{\laboiboite}}}}
\newcolumntype{L}{>{\begin{lrbox}{\laboiboite} 
$\displaystyle }l<{$\end{lrbox}%
    \settowidth{\longdelaboiboite}{\usebox{\laboiboite}}%
    \settoheight{\hautdelaboiboite}{\usebox{\laboiboite}}%
    \settodepth{\deptdelaboiboite}{\usebox{\laboiboite}}%
    \addtolength{\hautdelaboiboite}{\deptdelaboiboite}%
    \addtolength{\hautdelaboiboite}{2ex}%
    \parbox[c][\hautdelaboiboite][c]{0cm}{} \makebox[\width]
{\usebox{\laboiboite}}}}

\newcolumntype{S}{>{\begin{lrbox}{\laboiboite}}r<{\end{lrbox}%
    \mbox{\usebox{\laboiboite}}}}
\newcolumntype{D}{>{\begin{lrbox}{\laboiboite}}c<{\end{lrbox}%
    \mbox{\usebox{\laboiboite}}}}
\newcolumntype{M}{>{\begin{lrbox}{\laboiboite}}l<{\end{lrbox}%
    \mbox{\usebox{\laboiboite}}}}
\newlength\Linewidth
\def\findlength{\setlength\Linewidth\linewidth
\addtolength\Linewidth{-4\fboxrule}
\addtolength\Linewidth{-3\fboxsep}
}
\newenvironment{examplebox}{\par\begingroup%
   \setlength{\fboxsep}{5pt}\findlength%
   \setbox0=\vbox\bgroup\noindent%
   \hsize=\Linewidth%
   \begin{minipage}{\Linewidth}\small}%
    {\end{minipage}\egroup%
    \vspace{6pt}%
    \noindent\textcolor{gray20}{\fboxsep2.5pt\fbox%
     {\fboxsep5pt\colorbox{gray05}{\normalcolor\box0}}}%
    \endgroup\par\addvspace{6pt minus 3pt}\noindent%
    \normalcolor\ignorespacesafterend}
\let\Examplebox\examplebox
\let\endExamplebox\endexamplebox

\widowpenalty 10000
\clubpenalty 10000
\raggedbottom

\definecolor{mygreen}{rgb}{0,0.6,0}
\definecolor{mygray}{rgb}{0.5,0.5,0.5}
\definecolor{mymauve}{rgb}{0.58,0,0.82}

\lstset{language=C,
 breakatwhitespace=false,         % sets if automatic breaks should only happen at whitespace
  breaklines=true,                 % sets automatic line breaking
  captionpos=b,                
commentstyle=\color{mygreen},
keywordstyle=\color{blue},
numbers=left,                    % where to put the line-numbers; possible values are (none, left, right)
  numbersep=8pt,                   % how far the line-numbers are from the code
  numberstyle=\tiny\color{mygray}, % the style that is used for the line-numbers
  rulecolor=\color{black},         % if not set, the frame-color may be changed on line-breaks within not-black text (e.g. comments (green here))
  showspaces=false,                % show spaces everywhere adding particular underscores; it overrides 'showstringspaces'
  showstringspaces=false,          % underline spaces within strings only
  showtabs=false,                  % show tabs within strings adding particular underscores
  stepnumber=2,                    % the step between two line-numbers. If it's 1, each line will be numbered
  stringstyle=\color{mymauve},     % string literal style
  tabsize=2 }
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newboolean{sol}
\setboolean{sol}{false}
%\setboolean{sol}{false}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%M
\ifthenelse{\boolean{sol}}
{
\newenvironment{solution}
{
\begin{examplebox}
\begin{center}
\begin{tabular}{m{0.5cm}|m{15cm}|}\cline{2-2}
%\begin{turn}{90}{Solution}\end{turn}&
\rotatebox{90}{Solution}&
\begin{minipage}[H]{\linewidth}
\vspace{0.2cm}
}
{
\vspace{0.2cm}
\end{minipage}
\\\cline{2-2}
\end{tabular}
\end{center}
\end{examplebox}
}
}
{
\newxcomment[]{solution}
}


\begin{document}

\lhead[ROB3 ]{ROB3 }
\chead[]{}
\rhead[Informatique G\'en\'erale ]{Informatique G\'en\'erale}
 
\ifthenelse{\boolean{sol}}
{
\lfoot[Polytech'Paris-UPMC 2016-2017 (version enseignants)]{Polytech'Paris-UPMC 2016-2017 (version enseignants)}

}
{
\lfoot[Polytech'Paris-UPMC 2016-2017 (version \'etudiants)]{Polytech'Paris-UPMC 2016-2017 (version \'etudiants)}
}

\cfoot[]{}
\rfoot[\thepage]{\thepage}




\pagestyle{fancyplain}
%%%%%%%%%%%%

 %\addcontentsline{toc}{chapter}{S\'erie 1 : Conception d'algorithmes}
 %\chapter{Conception d'algorithmes}
 %\addcontentsline{toc}{chapter}{S\'erie 1 : Conception d'algorithmes}

\chapter*{Travaux Pratiques n°1}

\iffalse
\exercice{- Paramétrer son navigateur internet}
Procédure :
\begin{enumerate}
\item Ouvrir un navigateur internet (ex : \textbf{firefox})
\item Cliquer sur le menu \textbf{Edition} puis choisir \textbf{Préférences}.
\item Choisir l'onglet \textbf{Avancé} puis \textbf{Réseau}.
\item Choisir \textbf{adresse de configuration automatique du proxy}.
\item Taper l'adresse: \verb|http://mailhost.polytech.upmc.fr/prox.pac |
\item Ouvrir à nouveau votre navigateur et vérifier que vous avez accès à Internet.
\end{enumerate}

\exercice{- Faire suivre son courriel}
Assurez-vous que les mails qui vous sont envoyés sur votre messagerie '@etu.upmc.fr'
vous parviennent bien. Soit vous devez consulter \textbf{quotidiennement} votre mail sur 

\url{https://webmail.etu.upmc.fr}, soit vous devez rediriger le mail de l'upmc 
sur une adresse personnelle
que vous consultez régulièrement.

Pour tester, un mail vous sera envoyé depuis Sakai vers 14h, il faut que vous l'ayez reçu.

Si ce n'est pas le cas, demandez à votre chargé(e) de TP de vous aider à faire suivre votre courrier.

\exercice{- Répertoire courant}
Procédure : 
\begin{enumerate}
\item Ouvrir un Shell
\item Pour afficher le nom du répertoire courant (si vous venez d'ouvrir un shell, il s'agit du répertoire d'accueil), taper la commande \textbf{pwd} (pour s'en souvenir : \textbf{p}rint \textbf{w}orking \textbf{d}irectory).
\item Pour afficher le contenu du répertoire courant, taper la commande \textbf{ls} (pour s'en souvenir : \textbf{l}i\textbf{s}t).
\item Pour retourner au répertoire d'accueil, taper la commande \textbf{cd} (pour s'en ouvenir : \textbf{c}hange \textbf{d}irectory).
\item Pour créer un répertoire : \textbf{mkdir} \verb|temp| (par exemple) (pour s'en souvenir : \textbf{m}a\textbf{k}e \textbf{dir}ectory).
\item Pour changer de répertoire courant/travail:

\textbf{cd temp} (chemin relatif, accède au sous-repertoire \textbf{temp} du répertoire courant/travail)

\textbf{cd \textasciitilde/temp} (chemin absolu, accède au répertoire désigné par un chemin unique depuis la racine)
\item Pour aller dans le répertoire parent (chemin relatif) : \textbf{cd ..}
\end{enumerate}

\exercice{- Connexion à distance}
Procédure : 
\begin{enumerate}
\item ouvrir un Shell.
\item Se connecter sur une autre machine :

\verb|ssh -Y pc????| où \verb|pc????| désigne le nom d'une machine de la salle de TP (par exemple pc4021)
\item Vérifier que vous êtes toujours dans votre répertoire personnel et que vous avez accès à vos fichiers.
\item Avec la commande \textbf{who}, observez quels sont les utilisateurs connectés sur la même machine que vous.
\item Observer les processus sur la machine locale et la machine distante. Pour cela, utilisez la commande \textbf{ps} (et \textbf{top} pour voir les processus actifs).
\end{enumerate}
Vous pouvez travailler depuis chez vous, en vous connectant sur le \textbf{pc57} via la commande (dans un shell Linux) :

\verb|ssh -Y login@pc57.polytech.upmc.fr|

Dans l'hypothèse (peu probable) où votre système d'exploitation serait \textit{Windows}, il y a un outil qui est décrit dans Sakai (MobaXterm, fichier \verb|Travailler_sous_windows.pdf|).

Notez que le \textbf{pc57} n'est que le point d'entrée dans le réseau polytech. Il est impossible d'y travailler. Une fois que l'on est connecté sur \textbf{pc57}, il faut se connecter via \verb|ssh| sur un autre PC (normalement, les PC "toujours" disponibles sont pc4021, pc4022, pc4023, pc4024, pc4025 et pc4026).
\fi

\exercice{- Se préparer au TP1}
\begin{enumerate}
\item Dans votre répertoire d'accueil créer un répertoire \texttt{Informatique}.
\item Aller dans ce répertoire
\item Créer un sous-répertoire \texttt{TP1}.
\item Aller dans ce sous-répertoire.
\item Créer le fichier \texttt{hello.c} avec l'éditeur de texte

\verb|gedit hello.c &| (n'oubliez pas le \verb|&|).

ou

\verb|emacs hello.c &|
\end{enumerate}
\exercice{}

\begin{enumerate}
\item Ecrire dans le fichier \texttt{hello.c} grâce à un éditeur de texte :
\begin{lstlisting}
#include <stdio.h>

int main()
{
return(0);
}
\end{lstlisting}
\item Ecrire dans le \texttt{main} une petite instruction permettant d'afficher \texttt{Hello World !}
\item Ajouter des commentaires pertinents à ce programme et vérifier l'indentation.
\item Compiler ce programme avec gcc (dans un terminal)
\begin{lstlisting}
gcc -Wall hello.c -o hello
\end{lstlisting}
\item Lancer l'ex\'ecutable (dans un terminal)
\begin{lstlisting}
./hello
\end{lstlisting}
\end{enumerate}

\begin{solution}
\begin{lstlisting}
#include <stdio.h>

/* Fonction principale */
/* Affiche Hello World à l'écran*/

int main(void)
{
  printf("Hello World !\n");
  return 0;
}

\end{lstlisting}
\end{solution}

\exercice{}
Ecrire un programme dans lequel on définit une variable de type entier \texttt{n} que l'on initialise à 2 et qu'on l'affiche.

\begin{solution}
\begin{lstlisting}
#include <stdio.h>

/* Fonction principale */


int main(void)
{
  int n ; //Déclare l'entier n
  n=2;
  printf("L'entier est égale à %d\n",n);
  return 0;
}

\end{lstlisting}
\end{solution}

\exercice{}
Même chose que l'exercice précédent mais c'est à l'utilisateur du programme d'initialiser l'entier à la valeur de son choix.
\begin{solution}
\begin{lstlisting}
#include <stdio.h>

/* Fonction principale */

int main(void)
{
  int n ; //Déclare l'entier n
  printf ("Entrez la valeur de n : ");
  scanf("%d",&n);
  printf("\nL'entier est égale à %d\n",n);
  return 0;
}
\end{lstlisting}
\end{solution}

\exercice{}
Ecrire un programme qui demande à l'utilisateur d'initialiser deux entiers. Puis le programme stocke la somme de ces deux entiers dans une autre variable et enfin affiche le résultat.
\begin{solution}
\begin{lstlisting}
#include <stdio.h>

/* Fonction principale */

int main(void)
{
  int a,b,n ; //3 entiers, n représente la somme
  printf ("Entrez un premier nombre : ");
  scanf("%d",&a);
  printf ("Entrez un deuxieme nombre : ");
  scanf("%d",&b);
  n=a+b ;//affectation à n de la somme de a et b
  printf("\n%d + %d = %d\n",a,b,n);
  return 0;
}
\end{lstlisting}
\end{solution}

\exercice{PGCD}
Ecrire un progamme qui lit deux entiers, v\'erifie qu'ils sont bien strictement positifs
et affiche leur {\tt PGCD}.
\begin{solution}
\begin{lstlisting}
int a,b,c;
scanf("%d",&a);
scanf("%d",&b);
if ( (a>0) && (b>0) )
{
  if ( a < b )
  {
    c = a;
    a = b;
    b = c;
  }
  printf("PGCD(%d,%d) = ",a,b);
  while( b != 0 )
  {
    c = a % b;
    a = b;
    b = c;
  }	
  printf("%d\n",a);
}
\end{lstlisting}
\end{solution}

\exercice{Entier inversé}
Écrire un programme qui demande à l'utilisateur de saisir un entier strictement positif, puis affiche cet entier dans le sens inverse. Par exemple, si l'utilisateur saisit $5628$, le programme affiche $8265$.

\begin{solution}

	\lstinputlisting{tp1_exo_10.c}
\end{solution}

\exercice{FizzBuzz}
Écrire en C un programme qui affiche les nombres de 1 à 100, sauf:
	\begin{itemize}
		\item si le nombre est un multiple de 3 ou se termine par 3, auquel cas il affiche \texttt{"Fizz"}
		\item si le nombre est un multiple de 7 ou se termine par 7, auquel cas il affiche \texttt{"Buzz"}
		\item si le nombre vérifie les 2 propositions, le programme affiche \texttt{"FizzBuzz"}
	\end{itemize}
	Le tester, et vérifier que l'on obtient bien (pour les 1ères valeurs)
 \texttt{"1 2 Fizz 4 5 Fizz Buzz 8 Fizz 10 11 Fizz Fizz Buzz Fizz 16 Buzz Fizz ...."}

\begin{solution}
	\lstinputlisting{fizzbuzz.c}
\end{solution}

\exercice{}
On souhaite écrire un programme qui lit un nombre hexadécimal comme une suite de caractères, vérifie sa validité et effectue la conversion décimale. L'itération s'arrêtera quand on lira un caractère ne représentant pas un chiffre hexadécimal, et on calculera la valeur au fur et à mesure.

\begin{itemize}
	\item Écrire en pseudo-code l'algorithme
	\item Écrire le code \texttt{C} correspondant
\end{itemize}


\begin{solution}

\begin{itemize}
 
	\item Algorithme
\begin{verbatim}
 lire(c)

 Tant que c est valide faire
	nb <- nb*16

	si '0' <= c <= '9' alors
		nb <- nb + (c - '0')
	sinon si 'a' <= c <= 'f' alors
		nb <- nb + (c - 'a' + 10)
	sinon
		nb <- nb + (c - 'A' + 10)
	finsi
	
	lire(c)
 FinTantQue
\end{verbatim}
puis (approche descendante)
\begin{verbatim}
 "c est valide" s'écrit (c>='0' et c<='9') ou
  (c>='a' et c<='f') ou (c>='A' et c<='F')
\end{verbatim}
	\item le code:
	{\lstinputlisting{conversionHexa.c}}
\end{itemize}

\end{solution}

%\exercice{}
%Ecrire le programme qui énumère les diviseurs d'un entier $n$
%strictement positif.
%
%Vous pourrez améliorer le programme en affichant ``l'entier est un
%nombre premier'' dans le cas où seul $1$ et $n$ sont des diviseurs.
%
%\begin{solution}
%\lstinputlisting{diviseurs.c}
%
%Ce programme peut-être amélioré car il affiche deux fois la racine
%si l'entier est un carré parfait.
%\end{solution}


%\exercice{}
%Écrire le programme C du jeu qui fabrique un nombre au hasard entre 1
%et 100, et le fait ensuite deviner à l'utilisateur. Celui-ci propose une valeur et
%l'ordinateur répond trop petit ou trop grand jusqu'à ce qu'il trouve la bonne
%réponse. \\
%Modifiez ensuite le programme pour qu'il affiche le nombre de coups. 
%
%Aide: utiliser la fonction \texttt{rand()} qui génére un nombre entier aléatoire compris entre \texttt{0} et \texttt{RAND\_MAX}. Pour utiliser cette fonction il faut ajouter \texttt{\#include <stdlib.h>} au début de votre fichier.
%
%\begin{solution}
%
%\begin{lstlisting}
%#include <stdio.h>
%#include <stdlib.h>
%/* Fonction principale */
%
%
%int main(void)
%{
%  int n;
%  int l;
%  int linf,lsup;
%  int cnt;
%  n=rand()%100;
%  l=-1;
%  cnt=0;
%  linf=0;
%  lsup=100;
%  while(l!=n)
%    {
%      cnt++;   
%      printf("\nEntrez un nombre entre %d et %d : ",linf,lsup);
%      scanf("%d",&l);
%	if (l<n)
%	  {
%	    printf("\n Le nombre à trouver est plus grand");
%	    linf=l;
%	  }
%      if(l>n)
%	{
%	  printf("\n Le nombre à trouver est plus petit");
%	  lsup=l;
%	}
%    }
%  printf("\n Vous avez trouvé le bon nombre : %d en %d essais\n",n,cnt);
%  return(0);
%} 
%\end{lstlisting}
%\end{solution}




%\exercice {Traitement d'un entier}
%
%Ecrire programme qui affiche le nombre de chiffres 1 contenu dans
%un entier entré au clavier. Par exemple, pour $n=1151$, le programme affichera $3$.
%\begin{solution}
%\lstinputlisting{nbocc.c}
%\end{solution}

\exercice {Suite de Fibonacci}
La suite de Fibonacci est définie de manière récursive par la relation : $u_n = u_{n-1} + u_{n-2}$.\\
Cette définition doit être complétée par une condition initiale. Dans notre cas, si n est égal à 0 ou 1 alors : $u_0=u_1=1$.\\
Ecrire le programme qui calcule le n-ième terme d'une suite de Fibonacci (La valeur de est entrée au clavier).
\begin{solution}
\lstinputlisting{fibo_seq.c}
\end{solution}
\end{document}

